<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>OpenAI on Vincent&#39;s Notes</title>
    <link>https://missuo.me/tags/openai/</link>
    <description>Recent content in OpenAI on Vincent&#39;s Notes</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Sat, 11 Feb 2023 13:33:35 +0800</lastBuildDate><atom:link href="https://missuo.me/tags/openai/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Unlock ChatGPT with Cloudflare WARP</title>
      <link>https://missuo.me/posts/cloudflare-warp-chatgpt/</link>
      <pubDate>Sat, 11 Feb 2023 13:33:35 +0800</pubDate>
      
      <guid>https://missuo.me/posts/cloudflare-warp-chatgpt/</guid>
      <description>原理分析 Cloudflare WARP 拥有很多 IP，而 ChatGPT 的 CDN 又是 Cloudflare 提供的，也就是说，能不能访问完全取决于 Cloudflare。因此使用 Cloudflare 自己的 IP 大概率不会被 Ban。除了 WARP 之外，iCloud Private Relay 也是 Cloudflare 的 IP 哦。
具体步骤 本文的方案仅改变 IPv6 出口 IP，不会改变 IPv4 出口 IP，更不会改变路由。
准备一台 VPS，需要是 OpenGPT 支持的 161 个国家之一。因为你的网络在哪里，WARP 就会使用你所在地的 IP。比如香港就不行。 Supported countries and territories
使用以下命令安装 WARP。 bash &amp;lt;(curl -fsSL git.io/warp.sh) proxy 配置 XrayR/V2Ray 的出站规则和路由。（以 XrayR 为例，XrayR/V2Ray 的使用本文略过） # custom_outbound.json { &amp;#34;tag&amp;#34;: &amp;#34;socks5-warp&amp;#34;, &amp;#34;protocol&amp;#34;: &amp;#34;socks&amp;#34;, &amp;#34;settings&amp;#34;: { &amp;#34;servers&amp;#34;: [{ &amp;#34;address&amp;#34;: &amp;#34;127.</description>
      <content:encoded><![CDATA[<h2 id="原理分析">原理分析</h2>
<p><strong>Cloudflare WARP</strong> 拥有很多 IP，而 ChatGPT 的 CDN 又是 Cloudflare 提供的，也就是说，能不能访问完全取决于 Cloudflare。因此使用 Cloudflare 自己的 IP 大概率不会被 Ban。除了 WARP 之外，iCloud Private Relay 也是 Cloudflare 的 IP 哦。</p>
<h2 id="具体步骤">具体步骤</h2>
<p><strong>本文的方案仅改变 IPv6 出口 IP，不会改变 IPv4 出口 IP，更不会改变路由。</strong></p>
<ol>
<li>准备一台 VPS，需要是 OpenGPT 支持的 161 个国家之一。因为你的网络在哪里，WARP 就会使用你所在地的 IP。比如香港就不行。</li>
</ol>
<p><a href="https://platform.openai.com/docs/supported-countries">Supported countries and territories</a></p>
<ol start="2">
<li>使用以下命令安装 WARP。</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">bash &lt;(curl -fsSL git.io/warp.sh) proxy
</span></span></code></pre></div><ol start="3">
<li>配置 XrayR/V2Ray 的出站规则和路由。（以 XrayR 为例，XrayR/V2Ray 的使用本文略过）</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="err">#</span> <span class="err">custom_outbound.json</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tag&#34;</span><span class="p">:</span> <span class="s2">&#34;socks5-warp&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;protocol&#34;</span><span class="p">:</span> <span class="s2">&#34;socks&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;settings&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;servers&#34;</span><span class="p">:</span> <span class="p">[{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;address&#34;</span><span class="p">:</span> <span class="s2">&#34;127.0.0.1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;port&#34;</span><span class="p">:</span> <span class="mi">40000</span>
</span></span><span class="line"><span class="cl">        <span class="p">}]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="err">#</span> <span class="err">route.json</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;field&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;outboundTag&#34;</span><span class="p">:</span> <span class="s2">&#34;socks5-warp&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ip&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;::/0&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>简单解释一下，出站规则是指出站走 40000 端口的 SOCKS 代理。路由规则是指所有 IPv6 出站均走 SOCKS 代理。</p>
<ol start="4">
<li>如果你只是想让 OpenAI 走 WARP 的 IPv6，可以这样写。</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="err">#</span> <span class="err">route.json</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;field&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;outboundTag&#34;</span><span class="p">:</span> <span class="s2">&#34;socks5-warp&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;domain&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;openai.com&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>]]></content:encoded>
    </item>
    
    <item>
      <title>I subscribed to ChatGPT Plus</title>
      <link>https://missuo.me/posts/chatgpt-plus/</link>
      <pubDate>Sat, 11 Feb 2023 07:04:11 +0800</pubDate>
      
      <guid>https://missuo.me/posts/chatgpt-plus/</guid>
      <description>ChatGPT Plus 功能 Available even when demand is high 即使在需求大的时候也可以使用 Faster response speed 更快的反应速度 Priority access to new features 优先获得新功能 订阅 正常方式 填写 表格 并等待官方给你发送电子邮件获取资格。
漏洞 在中国时间的 2 月 10 日下午，看到群里有很多朋友说出现了 Upgrade Plan 的按钮，我立即登陆了我的帐号发现确实也有了，但是因为中国信用卡无法支付，导致开通失败。2 月 11 日我再次登录的时候发现已经消失了这个按钮。
我翻看了我的 Chrome 历史记录，找到了一个 pay.openai.com 的链接，点进去发现还是熟悉的 Stripe 的界面。但是奇怪的事情是 我无法填写地址信息，但是没有地址信息无法提交。无奈之下，当然是按下 F12，找到填写地址的每一个 input 标签，把 disable 全部改为 enable，顺利地填写了信息。在我的好朋友 Ming 的帮助下，用他的美国卡支付，没有显示成功的界面，一直显示处理中，但是收到了订阅成功的邮件。回到 chat.openai.com 发现已经开通好了。
体验 Plus 版本有两个模式，分别是 Default 和 Turbo。
根据描述和实际体验，Turbo 模式显然要快很多，回复速度比免费版有了很大的提升，很少有遇到崩溃的情况。当然英文提问会比中文回复速度快很多。
IP 的问题 无法访问 ChatGPT 封锁了很多机房的 IP，因为 ChatGPT 使用的是 Cloudflare 的服务，我猜测是使用了 Country 匹配，也就是说只有在指定国家可用，目前是 161 个国家。除此之外，应该还加入了 Threat Score 和 Known Bots 的判断。意味着你的 IP 要想顺利访问，需要具备两个条件，IP 属于来自 161 个国家之一，并且你的 IP 危险分数足够低。</description>
      <content:encoded><![CDATA[<h2 id="chatgpt-plus-功能">ChatGPT Plus 功能</h2>
<ul>
<li>Available even when demand is high 即使在需求大的时候也可以使用</li>
<li>Faster response speed 更快的反应速度</li>
<li>Priority access to new features 优先获得新功能</li>
</ul>
<h2 id="订阅">订阅</h2>
<h3 id="正常方式">正常方式</h3>
<p>填写 <a href="https://docs.google.com/forms/d/e/1FAIpQLScee6ST3o-kZDjlw1ROfUNyjuRBwGdcoewxjCULNejbP5hdzQ/viewform">表格</a> 并等待官方给你发送电子邮件获取资格。</p>
<h3 id="漏洞">漏洞</h3>
<p>在中国时间的 2 月 10 日下午，看到群里有很多朋友说出现了 <strong>Upgrade Plan</strong> 的按钮，我立即登陆了我的帐号发现确实也有了，但是因为中国信用卡无法支付，导致开通失败。2 月 11 日我再次登录的时候发现已经消失了这个按钮。</p>
<p>我翻看了我的 <strong>Chrome 历史记录</strong>，找到了一个 <a href="https://pay.openai.com">pay.openai.com</a> 的链接，点进去发现还是熟悉的 <strong>Stripe</strong> 的界面。但是奇怪的事情是 <strong>我无法填写地址信息</strong>，但是没有地址信息无法提交。无奈之下，当然是按下 F12，找到填写地址的每一个 <strong>input</strong> 标签，把 <strong>disable</strong> 全部改为 <strong>enable</strong>，顺利地填写了信息。在我的好朋友 <strong>Ming</strong> 的帮助下，用他的美国卡支付，没有显示成功的界面，一直显示处理中，但是收到了订阅成功的邮件。回到 <a href="https://chat.openai.com">chat.openai.com</a> 发现已经开通好了。</p>
<h2 id="体验">体验</h2>
<p>Plus 版本有两个模式，分别是 <strong>Default</strong> 和 <strong>Turbo</strong>。<br>
<img loading="lazy" src="https://static.nisekoo.com/blog/202302114W6T0j.png" alt="202302114W6T0j"  />
</p>
<p>根据描述和实际体验，<strong>Turbo</strong> 模式显然要快很多，回复速度比免费版有了很大的提升，很少有遇到崩溃的情况。当然英文提问会比中文回复速度快很多。</p>
<h2 id="ip-的问题">IP 的问题</h2>
<h3 id="无法访问">无法访问</h3>
<p>ChatGPT 封锁了很多机房的 IP，因为 ChatGPT 使用的是 <a href="https://cloudflare.com">Cloudflare</a> 的服务，我猜测是使用了 <strong>Country</strong> 匹配，也就是说只有在指定国家可用，目前是 161 个国家。除此之外，应该还加入了 <strong>Threat Score</strong> 和 <strong>Known Bots</strong> 的判断。意味着你的 IP 要想顺利访问，需要具备两个条件，IP 属于来自 161 个国家之一，并且你的 IP 危险分数足够低。</p>
<h3 id="我的方案">我的方案</h3>
<p>在 2022 年 3 月 28 日，我在 RIPE 申请到了 ASN，也就意味着我可以持有 IPv4 和 IPv6，我目前持有两个/48 的 IPv6。我目前的 IPv6 分别来自 <strong>台湾</strong> 和 <strong>英国</strong>，都在 161 个国家之内，危险分数都是 0。我建立了 BGP Session，完全可以使用自己的 IP 来访问 OpenAI 的服务。<br>
<img loading="lazy" src="https://static.nisekoo.com/blog/20230211Dlnlje.png" alt="20230211Dlnlje"  />
</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Prefixes:
</span></span><span class="line"><span class="cl">2401:95c0:f001::/48
</span></span><span class="line"><span class="cl">2a0f:9400:6907::/48
</span></span></code></pre></div><h3 id="检测是否可用">检测是否可用</h3>
<p>为了验证当前IP是否能够正常使用OpenAI服务，我用Shell写了一个检测脚本——<a href="https://github.com/missuo/OpenAI-Checker">OpenAI-Checker</a>。使用方法也非常简单，仅需要在任何Linux/macOS上执行以下命令。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">bash &lt;<span class="o">(</span>curl -Ls https://cpp.li/openai<span class="o">)</span>
</span></span></code></pre></div><p>检测结果示例：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&gt; bash &lt;(curl -Ls https://cpp.li/openai)
</span></span><span class="line"><span class="cl">OpenAI Access Checker. Made by Vincent
</span></span><span class="line"><span class="cl">https://github.com/missuo/OpenAI-Checker
</span></span><span class="line"><span class="cl">-------------------------------------
</span></span><span class="line"><span class="cl">[IPv4]
</span></span><span class="line"><span class="cl">Your IPv4: 205.185.1.1 - FranTech Solutions
</span></span><span class="line"><span class="cl">Your IP supports access to OpenAI. Region: US
</span></span><span class="line"><span class="cl">-------------------------------------
</span></span><span class="line"><span class="cl">[IPv6]
</span></span><span class="line"><span class="cl">Your IPv6: 2401: 95c0: f001:: 1 - Vincent Yang
</span></span><span class="line"><span class="cl">Your IP supports access to OpenAI. Region: TW
</span></span><span class="line"><span class="cl">-------------------------------------
</span></span></code></pre></div><h2 id="总结">总结</h2>
<p>ChatGPT Plus的订阅价格为20美元/月，其实我觉得还可以，毕竟它能让你的体验更好，它能帮助你做很多事。只是中国大陆用户需要解决网络、绑定手机和支付问题，这一下子提高了使用门槛。</p>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
